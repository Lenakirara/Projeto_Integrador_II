CREATE TABLE IF NOT EXISTS QUESTIONARIO( 
	QUESTIONARIO_ID         INTEGER NOT NULL PRIMARY KEY, 
	DESCRICAO               VARCHAR(100) NOT NULL 
);

CREATE TABLE IF NOT EXISTS QUESTIONARIO_ITEM( 
	QUESTIONARIO_ITEM_ID    INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, 
	QUESTIONARIO_ID         INTEGER NOT NULL REFERENCES QUESTIONARIO(QUESTIONARIO_ID),
	ORDEM                   INTEGER, 
	DESCRICAO               VARCHAR(100) NOT NULL
);

CREATE TABLE IF NOT EXISTS QUESTIONARIO_RESPOSTA 
(
	QUESTIONARIO_RESPOSTA_ID INTEGER NOT NULL, 
	QUESTIONARIO_ID          INTEGER NOT NULL, 
	NOME                     VARCHAR ( 100 ) NOT NULL, 
	E_MAIL                   VARCHAR ( 100 ) NOT NULL, 	
        TOTAL_SCORE              NUMERIC(12,2) NULL,
        TOTAL_TEMPO              NUMERIC(12,2) NULL,
        DATA_LANCAMENTO          DATE DEFAULT current_timestamp, 
	FOREIGN KEY(QUESTIONARIO_ID) REFERENCES QUESTIONARIO(QUESTIONARIO_ID), 
	PRIMARY KEY(QUESTIONARIO_RESPOSTA_ID) 
);

CREATE TABLE QUESTIONARIO_RESPOSTA_ITEM ( 
       QUESTIONARIO_RESPOSTA_ID INTEGER NOT NULL REFERENCES QUESTIONARIO_RESPOSTA(QUESTIONARIO_RESPOSTA_ID),     
       QUESTIONARIO_ITEM_ID INTEGER NOT NULL REFERENCES QUESTIONARIO_ITEM(QUESTIONARIO_ITEM_ID), 
       OBSERVACAO VARCHAR(100) NOT NULL, 
       VALOR INTEGER NOT NULL DEFAULT 0, 
       PRIMARY KEY(QUESTIONARIO_RESPOSTA_ID,QUESTIONARIO_ITEM_ID) 
)
